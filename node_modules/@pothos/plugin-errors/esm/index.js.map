{"version":3,"sources":["../src/index.ts"],"names":["SchemaBuilder","BasePlugin","PothosSchemaError","sortClasses","typeBrandKey","unwrapOutputFieldType","pluginName","capitalize","s","slice","toUpperCase","defaultGetResultName","parentTypeName","fieldName","defaultGetUnionName","unwrapError","Symbol","for","createErrorProxy","target","ref","state","Proxy","get","err","val","receiver","wrapped","Reflect","getPrototypeOf","proto","errorTypeMap","WeakMap","PothosErrorsPlugin","wrapIsTypeOf","isTypeOf","config","parent","context","info","onOutputFieldConfig","fieldConfig","errorOptions","pothosOptions","errors","errorBuilderOptions","builder","options","name","getResultName","defaultResultOptions","getUnionName","defaultUnionOptions","buildCache","getTypeConfig","parentType","types","result","resultName","fields","resultFieldOptions","resultObjectOptions","union","unionName","unionOptions","dataField","dataFieldName","errorTypes","Set","defaultTypes","directResult","typeRef","type","typeName","configStore","unionType","runUnique","resultType","Array","isArray","resultConfig","graphqlKind","objectRef","implement","t","field","nullable","kind","items","list","resolve","data","getDataloader","extensions","resolveType","obj","pothosPrismaIndirectInclude","getType","path","pothosErrors","wrapResolve","resolver","args","error","errorType","set","registerPlugin"],"mappings":"AAAA,OAAO,iBAAiB;AAExB,OAAOA,iBACLC,UAAU,EAIVC,iBAAiB,EAEjBC,WAAW,EACXC,YAAY,EACZC,qBAAqB,QAChB,eAAe;AAGtB,cAAc,UAAU;AAExB,MAAMC,aAAa;AAEnB,eAAeA,WAAW;AAE1B,OAAO,SAASC,WAAWC,CAAS,EAAE;IACpC,OAAO,CAAC,EAAEA,EAAEC,KAAK,CAAC,GAAG,GAAGC,WAAW,GAAG,EAAEF,EAAEC,KAAK,CAAC,GAAG,CAAC;AACtD,CAAC;AAED,OAAO,MAAME,uBAAoC,CAAC,EAAEC,eAAc,EAAEC,UAAS,EAAE,GAC7E,CAAC,EAAED,eAAe,EAAEC,UAAU,OAAO,CAAC,CAAC;AACzC,OAAO,MAAMC,sBAAmC,CAAC,EAAEF,eAAc,EAAEC,UAAS,EAAE,GAC5E,CAAC,EAAED,eAAe,EAAEC,UAAU,MAAM,CAAC,CAAC;AAExC,OAAO,MAAME,cAAcC,OAAOC,GAAG,CAAC,uBAAuB;AAE7D,SAASC,iBAAiBC,MAAU,EAAEC,GAAY,EAAEC,KAA2B,EAAM;IACnF,OAAO,IAAIC,MAAMH,QAAQ;QACvBI,KAAIC,GAAG,EAAEC,GAAG,EAAEC,QAAQ,EAAE;YACtB,IAAID,QAAQV,aAAa;gBACvB,OAAO,IAAM;oBACX,6CAA6C;oBAC7CM,MAAMM,OAAO,GAAG,KAAK;gBACvB;YACF,CAAC;YAED,IAAIF,QAAQrB,cAAc;gBACxB,OAAOgB;YACT,CAAC;YAED,OAAOQ,QAAQL,GAAG,CAACC,KAAKC,KAAKC;QAC/B;QACAG,gBAAeL,GAAG,EAAE;YAClB,MAAMM,QAAQF,QAAQC,cAAc,CAACL;YAErC,IAAI,CAACH,MAAMM,OAAO,IAAI,CAACG,OAAO;gBAC5B,OAAOA;YACT,CAAC;YAED,OAAOZ,iBAAiBY,OAAOV,KAAKC;QACtC;IACF;AACF;AAEA,MAAMU,eAAe,IAAIC;AAEzB,OAAO,MAAMC,2BAAsDhC;IACxDiC,aACPC,QAAkE,EAClEC,MAA8B,EAC4B;QAC1D,IAAID,UAAU;YACZ,OAAO,CAACE,QAAQC,SAASC,OAAS;gBAChC,IAAI,OAAOF,WAAW,YAAYA,QAAQ;wBACxC;oBAAA,CAAA,sBAAA,AAACA,MAAyC,CAACtB,YAAY,cAAvD,iCAAA,KAAA,IAAA,oBAAA,KAACsB;gBACH,CAAC;gBAED,OAAOF,SAASE,QAAQC,SAASC;YACnC;QACF,CAAC;QAED,OAAOJ;IACT;IAESK,oBACPC,WAA2C,EACJ;QACvC,MAAMC,eAAeD,YAAYE,aAAa,CAACC,MAAM;QAErD,MAAMC,sBAAsB,IAAI,CAACC,OAAO,CAACC,OAAO,CAACL,YAAY;QAE7D,IAAI,CAACA,cAAc;YACjB,OAAOD;QACT,CAAC;YAGCI;QADF,MAAM,EAAEG,MAAMC,gBAAgBtC,oBAAoB,CAAA,EAAE,GAAGuC,sBAAsB,GAC3EL,CAAAA,4CAAAA,gCAAAA,iCAAAA,KAAAA,IAAAA,oBAAqBK,oBAAoB,cAAzCL,uDAAAA,4CAA6C;YAC3CG,MAAMrC;QACR,CAAC;YAEDkC;QADF,MAAM,EAAEG,MAAMG,eAAerC,mBAAmB,CAAA,EAAE,GAAGsC,qBAAqB,GACxEP,CAAAA,2CAAAA,gCAAAA,iCAAAA,KAAAA,IAAAA,oBAAqBO,mBAAmB,cAAxCP,sDAAAA,2CAA4C;YAC1CG,MAAMlC;QACR,CAAC;QAEH,MAAMF,iBAAiB,IAAI,CAACyC,UAAU,CAACC,aAAa,CAACb,YAAYc,UAAU,EAAEP,IAAI;QAEjF,MAAM,EACJQ,OAAQ,EAAE,CAAA,EACVC,QAAQ,EACNT,MAAMU,aAAaT,cAAc;YAC/BrC;YACAC,WAAWN,WAAWkC,YAAYO,IAAI;QACxC,EAAE,CAAA,EACFW,QAAQC,mBAAkB,EAC1B,GAAGC,qBACJ,GAAG,CAAC,CAAU,CAAA,EACfC,OAAO,EACLd,MAAMe,YAAYZ,aAAa;YAC7BvC;YACAC,WAAWN,WAAWkC,YAAYO,IAAI;QACxC,EAAE,CAAA,EACF,GAAGgB,cACJ,GAAG,CAAC,CAAU,CAAA,EACfC,WAAW,EAAEjB,MAAMkB,gBAAgB,MAAM,CAAA,EAAE,GAAGD,WAAW,GAAG,CAAC,CAAU,CAAA,EACxE,GAAGvB;YAGwBG;QAD5B,MAAMsB,aAAahE,YAAY;eAC1B,IAAIiE,IAAI;mBAAIZ;mBAAWX,CAAAA,oCAAAA,gCAAAA,iCAAAA,KAAAA,IAAAA,oBAAqBwB,YAAY,cAAjCxB,+CAAAA,oCAAqC,EAAE;aAAE;SACpE;YAGC,4BAAA;QADF,MAAMyB,eACJ,CAAA,OAAA,CAAA,6BAAA,AAAC5B,aAA4C4B,YAAY,cAAzD,wCAAA,6BACAzB,gCAAAA,iCAAAA,KAAAA,IAAAA,oBAAqByB,YAAY,cADjC,kBAAA,OAEA,KAAK;QAEP,MAAMC,UAAUlE,sBAAsBoC,YAAY+B,IAAI;QAEtD,MAAMC,WAAW,IAAI,CAAC3B,OAAO,CAAC4B,WAAW,CAACpB,aAAa,CAACiB,SAASvB,IAAI;QAErE,MAAM2B,YAAY,IAAI,CAACC,SAAS,CAAClB,YAAY,IAAM;gBAiC3B;YAhCtB,IAAImB;YACJ,IAAIP,gBAAgB,CAACQ,MAAMC,OAAO,CAACtC,YAAYE,aAAa,CAAC6B,IAAI,GAAG;gBAClEK,aAAapC,YAAYE,aAAa,CAAC6B,IAAI;gBAE3C,MAAMQ,eAAe,IAAI,CAAClC,OAAO,CAAC4B,WAAW,CAACpB,aAAa,CAACuB;gBAE5D,IAAIG,aAAaC,WAAW,KAAK,UAAU;oBACzC,MAAM,IAAI/E,kBACR,CAAC,MAAM,EAAEU,eAAe,CAAC,EAAE6B,YAAYO,IAAI,CAAC,6DAA6D,CAAC,EAC1G;gBACJ,CAAC;YACH,OAAO;gBACL6B,aAAa,IAAI,CAAC/B,OAAO,CAACoC,SAAS,CAAUxB;gBAE7CmB,WAAWM,SAAS,CAAC;oBACnB,GAAGjC,oBAAoB;oBACvB,GAAGW,mBAAmB;oBACtBF,QAAQ,CAACyB;wBAAO,OAAA;+BACXxB,+BAAAA,gCAAAA,KAAAA,IAAAA,mBAAqBwB,EAAxB;4BACA,CAAClB,cAAc,EAAEkB,EAAEC,KAAK,CAAC;gCACvB,GAAGpB,SAAS;gCACZO,MAAM/B,YAAYE,aAAa,CAAC6B,IAAI;gCACpCc,UACE7C,YAAY+B,IAAI,CAACe,IAAI,KAAK,SACtB;oCAAEC,OAAO/C,YAAY+B,IAAI,CAACA,IAAI,CAACc,QAAQ;oCAAEG,MAAM,KAAK;gCAAC,IACrD,KAAK;gCACXC,SAAS,CAACC,OAASA;4BACrB;wBACF;;gBACF;YACF,CAAC;YAED,MAAMC,gBAAgB,CAAA,4CAAA,IAAI,CAACvC,UAAU,CAACC,aAAa,CAACjD,sBAAsBoC,YAAY+B,IAAI,GACvFqB,UAAU,cADS,uDAAA,KAAA,IAAA,0CACPD,aAAa;gBAIJ7D;YAFxB,OAAO,IAAI,CAACe,OAAO,CAAC6B,SAAS,CAACZ,WAAW;gBACvCP,OAAO;uBAAIW;oBAAYU;iBAAW;gBAClCiB,aAAa,CAACC,MAAQhE,CAAAA,oBAAAA,aAAaR,GAAG,CAACwE,kBAAjBhE,+BAAAA,oBAA+B8C,UAAU;gBAC/D,GAAGzB,mBAAmB;gBACtB,GAAGY,YAAY;gBACf6B,YAAY;oBACV,GAAG7B,aAAa6B,UAAU;oBAC1BD;oBACAI,6BAA6B;wBAC3BC,SAAS,IAAMxB;wBACfyB,MAAM5B,eAAe,EAAE,GAAG;4BAAC;gCAAEE,MAAMd;gCAAYV,MAAMkB;4BAAc;yBAAE;oBACvE;gBACF;YACF;QACF;QAEA,OAAO;YACL,GAAGzB,WAAW;YACdoD,YAAY;gBACV,GAAGpD,YAAYoD,UAAU;gBACzBM,cAAchC;YAChB;YACAK,MAAM;gBACJe,MAAM;gBACNnE,KAAKuD;gBACLW,UAAU7C,YAAY+B,IAAI,CAACc,QAAQ;YACrC;QACF;IACF;IAESc,YACPC,QAAiE,EACjE5D,WAA2C,EACc;YACpCA;QAArB,MAAM0D,eAAe1D,CAAAA,0BAAAA,YAAYoD,UAAU,cAAtBpD,qCAAAA,KAAAA,IAAAA,wBAAwB0D,YAAY;QAEzD,IAAI,CAACA,cAAc;YACjB,OAAOE;QACT,CAAC;QAED,OAAO,OAAO,GAAGC,OAAS;YACxB,IAAI;gBACF,OAAQ,MAAMD,YAAYC;YAC5B,EAAE,OAAOC,OAAgB;gBACvB,KAAK,MAAMC,aAAaL,aAAc;oBACpC,IAAII,iBAAiBC,WAAW;wBAC9B,MAAM/C,SAASvC,iBAAiBqF,OAAOC,WAAW;4BAAE7E,SAAS,IAAI;wBAAC;wBAElEI,aAAa0E,GAAG,CAAChD,QAAQ+C;wBAEzB,OAAO/C;oBACT,CAAC;gBACH;gBAEA,MAAM8C,MAAM;YACd;QACF;IACF;AACF,CAAC;AAEDvG,cAAc0G,cAAc,CAACpG,YAAY2B"}